{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hospital Website</title>
    
    <link rel="stylesheet" href="{% static 'css/design.css' %}">
    
    
    {%block css%} {%endblock%}
</head>
<body>
    
{% if messages %}
<div class="messages-container">
    {% for message in messages %}
    <div class="messages {% if message.tags %}{{ message.tags }}{% endif %}">
        {{ message }}
        <h3 class="exit-message">X</h3>
    </div>
    {% endfor %}
</div>
<script src="{% static 'js/closeMessages.js' %}"></script>
{% endif %}


    <div class="overlay"></div>
    <header class="main-header">
        <button class="menu-toggle">
            <svg class="svg-sidebar" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </button>
        <h3 class="media-heading"><h3 class="media-emoji">‚ö°</h3>ELECTRO CARDIO SYNAPSE<h3 class="media-emoji-2">ü´Ä
        </h3></h3>
        <nav class="newNav">
            {% comment %} <a href="{% url 'login' %}"class="m">Login</a> {% endcomment %}
            {% if user.is_authenticated %}
            <a href="{% url 'logout' %}">Logout</a>
        {% else %}
        <a href="#" class="m show-modal">Login</a>
        {% endif %}
            {% comment %} <a href="#" class="m show-modal">Login</a> {% endcomment %}
            <a href="#" class="m">contact</a>
            <a href="{%url 'role_map'%}" class="m">map</a>
            <a class="nav-button" href="{% url 'register'%}">register</a>
        </nav>
        
    </header>

    <div class="sidebar">
        <div class="sidebar-content">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">About Us</a></li>
                <li><a href="#">Our Doctors</a></li>
                <li><a href="#">Departments</a></li>
                <li><a href="#">News & Events</a></li>
                <li><a href="#">Patient Portal</a></li>
                <li><a href="#">Emergency Care</a></li>
                <li><a href="#">Research</a></li>
            </ul>
        </div>
    </div>

    <script src="{% static 'js/script.js' %}"></script>
    {% comment %} <h1>Welcome, {{ user.username }}!</h1>
    <p>This is a protected home page.</p> 
    <nav>
        <a href="{% url 'profile' %}">Profile</a> |
        <a href="{% url 'logout' %}">Logout</a>
    </nav> {% endcomment %}







    <div class="modal hidden">
        <button class="close-modal">&times;</button>
        <div class="modal-container">
            <!-- Left side - Login Form -->
            <div class="form-section">
                <h2>Login</h2>
                <form method="post" action="{% url 'login' %}">
                    {% csrf_token %}
                    
                        <div class="form-group">
                            <input type="text" name="username" placeholder="Username" required>
                        </div>
                        <div class="form-group">
                            <input type="password" name="password" placeholder="Password" required>
                        </div>
                        <button type="submit" class="submit-btn">Login</button>
                    
                </form>
            </div>
            
            <!-- Right side - Sign Up Form -->
            <div class="form-section">
                <h2>Sign Up</h2>
                <form method="post" action="{% url 'signup' %}">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <div class="form-group">
                        <input type="text" name="username" placeholder="Username" required>
                    </div>
                    <div class="form-group">
                        <input type="text" name="email" placeholder="email" required>
                    </div>
                    <div class="form-group">
                        <input type="password" name="password1" placeholder="Password1" required>
                    </div>
                    <div class="form-group">
                        <input type="password" name="password2" placeholder="Password2" required>
                    </div>
                    <button type="submit" class="submit-btn">Signup</button>
                </form>
            </div>
        </div>
    </div>


    {% comment %} <button class="show-modal">Show modal 3</button> {% endcomment %}
     {% comment %} <div class="modal hidden">
        <button class="close-modal">&times;</button>
        
        <h1>I'm a modal window üòç</h1>
         <h2>Login</h2>
        <form method="post" action="{% url 'login' %}">
            {% csrf_token %}
            <input type="text" name="username" placeholder="Username" required>
            <input type="password" name="password" placeholder="Password" required>
            <button type="submit">Login</button>
        </form>
        <p>Don't have an account? <a href="{% url 'signup' %}">Sign up</a></p> 
    </div>
    <div class="overlay hidden"></div>  {% endcomment %}







    {% comment %} <div class="modal hidden">
        <button class="close-modal">&times;</button>
        <h2>Login</h2>
        <form method="post" action="{% url 'login' %}">  <!-- Add the action to point to your login URL -->
            {% csrf_token %}
            <div class="form-group">
                <input type="text" name="username" placeholder="Username" required>
            </div>
            <div class="form-group">
                <input type="password" name="password" placeholder="Password" required>
            </div>
            <button type="submit" class="login-btn">Login</button>
            <p class="signup-text">Don't have an account? <a href="{% url 'register' %}">Sign up</a></p>
        </form>
    </div>
    <div class="overlay hidden"></div> {% endcomment %}
    <script>
        'use strict';
        
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.querySelector('.modal');
            const overlay = document.querySelector('.overlay');
            const btnCloseModal = document.querySelector('.close-modal');
            const btnsOpenModal = document.querySelector('.show-modal');

            const openModal = function (e) {
                e.preventDefault(); // Add this to prevent default link behavior
                modal.classList.remove('hidden');
                overlay.classList.remove('hidden');
            };

            const closeModal = function () {
                modal.classList.add('hidden');
                overlay.classList.add('hidden');
            };

            btnCloseModal.addEventListener('click', closeModal);
            overlay.addEventListener('click', closeModal);
            btnsOpenModal.addEventListener('click', openModal);

            // Add keyboard event listener for Escape key
            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                    closeModal();
                }
            });
        });
    </script>

    {% comment %} <div class="modal hidden">
      <button class="close-modal">&times;</button>
      <h1>I'm a modal window üòç</h1>
      <h2>Login</h2>
<form method="post">
    {% csrf_token %}
    <input type="text" name="username" placeholder="Username" required>
    <input type="password" name="password" placeholder="Password" required>
    <button type="submit">Login</button>
</form>
<p>Don't have an account? <a href="{% url 'signup' %}">Sign up</a></p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
        veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
        velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
        occaecat cupidatat non proident, sunt in culpa qui officia deserunt
        mollit anim id est laborum.
      </p>
    </div>
    <div class="overlay hidden"></div>
    <script>
        'use strict';

const modal = document.querySelector('.modal');
const overlay = document.querySelector('.overlay');
const btnCloseModal = document.querySelector('.close-modal');
const btnsOpenModal = document.querySelector('.show-modal');

const openModal = function () {
  modal.classList.remove('hidden');
  overlay.classList.remove('hidden');
};

const closeModal = function () {
  modal.classList.add('hidden');
  overlay.classList.add('hidden');
};
btnCloseModal.addEventListener('click', closeModal);
overlay.addEventListener('click', closeModal);

btnsOpenModal.addEventListener('click', openModal);
    </script> {% endcomment %}
    {% comment %} <script src="script.js"></script> {% endcomment %}
    {% block content %}{% endblock %}

</body>
</html>